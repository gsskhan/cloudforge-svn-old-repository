<?xml version="1.0" encoding="UTF-8" ?>
<beans	xmlns="http://www.springframework.org/schema/beans"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:c="http://www.springframework.org/schema/c"
		xmlns:p="http://www.springframework.org/schema/p"
		xsi:schemaLocation="
				http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd">
				

	<bean id="loggingJmsTemplate" class="org.springframework.jms.core.JmsTemplate">
		<property name="connectionFactory" ref="loggingCachingConnectionFactory" />
		<property name="defaultDestination" ref="loggingQueueDestination" />
		<property name="receiveTimeout" value="5000" />
	</bean>
	
	<bean	id="loggingTibConnectionFactory"
			class="com.tibco.tibjms.TibjmsConnectionFactory"
			p:serverUrl="${optima.tibco.server.url}"
			p:userName="${optima.tibco.username}"
			p:userPassword="${optima.tibco.password}"
	/>
		
	<bean id="loggingCachingConnectionFactory"
		class="org.springframework.jms.connection.CachingConnectionFactory">
		<property name="targetConnectionFactory" ref="loggingTibConnectionFactory" />
		<property name="sessionCacheSize" value="10" />
		<property name="cacheProducers" value="true" />
		<property name="cacheConsumers" value="true" />
	</bean>

	<bean id="loggingQueueDestination" class="com.tibco.tibjms.TibjmsQueue">
		<constructor-arg value="${optima.queue.exception.out}" />
	</bean>

</beans>